<html>
<head>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <script type="text/javascript">
        function connect() {
            var fromInput = document.getElementById("from");
            var toInput = document.getElementById("to");

            const client = new WebSocket('ws://10.26.112.157:3000/mes-' + fromInput.value + "-" + toInput.value);

            client.addEventListener('open', () => {
                client.send('Hello I am Mathieu ROGNER');
            
                client.addEventListener('message', (message) => {
                    console.log(message.toString());
                })
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <article>
            <header>Connection : </header>
            <form>
                <label for="from">From : </label>
                <input id="from" type="text" name="from" required>
                <label for="to">To : </label>
                <input id="to" type="text" name="to" required>
                <button type="button" onclick="connect()">Connect to chat</button>
            </form>
        </article>
    </div>
<body>
</html>